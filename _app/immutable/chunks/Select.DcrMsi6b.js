import{s as ie,x as z,e as P,a as F,b as S,d as A,g as b,c as G,k,f as I,i as C,l as D,v as T,z as K,A as Q,B as J,D as ae,F as q,G as j,o as V,t as re,j as ue,H as Y,N as we,y as Z,O as x,P as N,I as $,E as ve,Q as ee,m as W,w as ke,C as ye,R as Ee,S as fe,T as ce,n as Me}from"./scheduler.u48DAPDK.js";import{S as pe,i as he,c as de,a as _e,m as me,t as H,b as L,d as ge}from"./index.DjJW5U3y.js";import{i as Pe,c as Se,g as Ae,e as te}from"./Row.svelte_svelte_type_style_lang.uv8pycF1.js";import{M as Ce}from"./MenuList.Cd4sl-mb.js";const Ie=o=>({}),le=o=>({});function De(o){let e;return{c(){e=re("Menu")},l(t){e=ue(t,"Menu")},m(t,n){C(t,e,n)},d(t){t&&b(e)}}}function Oe(o){let e;const t=o[11].default,n=z(t,o,o[15],null);return{c(){n&&n.c()},l(l){n&&n.l(l)},m(l,a){n&&n.m(l,a),e=!0},p(l,a){n&&n.p&&(!e||a&32768)&&K(n,t,l,l[15],e?J(t,l[15],a,null):Q(l[15]),null)},i(l){e||(H(n,l),e=!0)},o(l){L(n,l),e=!1},d(l){n&&n.d(l)}}}function Te(o){let e,t,n,l,a,i,f=`${o[2]}px`,c=`${o[3]}px`,g=`${o[4]}px`,p,v,_;const r=o[11].label,u=z(r,o,o[15],le),m=u||De();return i=new Ce({props:{$$slots:{default:[Oe]},$$scope:{ctx:o}}}),{c(){e=P("nav"),t=P("button"),m&&m.c(),n=F(),l=P("div"),a=P("div"),de(i.$$.fragment),this.h()},l(h){e=S(h,"NAV",{class:!0});var w=A(e);t=S(w,"BUTTON",{popovertarget:!0,class:!0});var E=A(t);m&&m.l(E),E.forEach(b),n=G(w),l=S(w,"DIV",{id:!0,class:!0,popover:!0});var O=A(l);a=S(O,"DIV",{class:!0,style:!0});var y=A(a);_e(i.$$.fragment,y),y.forEach(b),O.forEach(b),w.forEach(b),this.h()},h(){k(t,"popovertarget",o[7]),k(t,"class","svelte-1tw66bu"),k(a,"class","dropdown-content svelte-1tw66bu"),k(a,"style",o[5]),k(l,"id",o[7]),k(l,"class","dropdown-container svelte-1tw66bu"),k(l,"popover",""),I(l,"top",f),I(l,"left",c),I(l,"max-height",g),k(e,"class","dropdown-menu svelte-1tw66bu")},m(h,w){C(h,e,w),D(e,t),m&&m.m(t,null),o[12](t),D(e,n),D(e,l),D(l,a),me(i,a,null),o[13](a),o[14](l),p=!0,v||(_=[T(t,"click",o[8]),T(a,"click",o[9]),T(e,"keydown",o[10])],v=!0)},p(h,[w]){u&&u.p&&(!p||w&32768)&&K(u,r,h,h[15],p?J(r,h[15],w,Ie):Q(h[15]),le);const E={};w&32768&&(E.$$scope={dirty:w,ctx:h}),i.$set(E),(!p||w&32)&&k(a,"style",h[5]),w&4&&f!==(f=`${h[2]}px`)&&I(l,"top",f),w&8&&c!==(c=`${h[3]}px`)&&I(l,"left",c),w&16&&g!==(g=`${h[4]}px`)&&I(l,"max-height",g)},i(h){p||(H(m,h),H(i.$$.fragment,h),p=!0)},o(h){L(m,h),L(i.$$.fragment,h),p=!1},d(h){h&&b(e),m&&m.d(h),o[12](null),ge(i),o[13](null),o[14](null),v=!1,ae(_)}}}var ne=1;function Ve(o,e,t){let{$$slots:n={},$$scope:l}=e;ne++;let a="contain-dropdown-menu-"+ne,i,f;Pe(e,"menu",["bg","fg","padding","width","height"]);let c,g,p;function v(){let s=f.getBoundingClientRect(),d=i.getBoundingClientRect();t(2,c=d.bottom),t(3,g=d.left),g+s.width>window.innerWidth&&t(3,g=window.innerWidth-s.width),c+s.height>window.innerHeight&&t(2,c=Math.max(0,window.innerHeight-s.height)),t(4,p=window.innerHeight-c),console.log("Computed top",c,"left",g,"maxHeight",p)}function _(s){console.log("Triggered...");let d=y.matches(":popover-open");console.log("Popover is currently open?",d),d||(console.log("Opening popover"),O(),v())}function r(s){console.log("Dismissing popover"),y.hidePopover()}let u="";function m(s){s.key=="Backspace"&&u?u=u.slice(0,-1):s.key.length==1?(u||s.key!=" ")&&(u+=s.key,h(u)):(u="",s.key==="Escape"?y.hidePopover():(s.key==="ArrowDown"||s.key==="ArrowUp")&&(s.preventDefault(),w(s.key),u=""))}function h(s){console.log("Maybe focus",s);let d=f.querySelectorAll("a,button,[tabindex]");for(let M of d)if(M.textContent&&M.textContent.toLowerCase().startsWith(s.toLowerCase())&&(console.log("Found",M),M.focus)){M.focus();return}}function w(s){var X;if(!y.matches(":popover-open")){i.click();return}const d=Array.from(f.querySelectorAll("button, a, [tabindex]:not([tabindex='-1'])"));let M=d.findIndex(be=>be===document.activeElement);s==="ArrowDown"?M=(M+1)%d.length:s==="ArrowUp"&&(M=(M-1+d.length)%d.length),(X=d[M])==null||X.focus()}let E="";function O(){t(5,E="");let s=getComputedStyle(i);for(let d of Se)s.getPropertyValue(d).trim()&&t(5,E+=`${d}: ${s.getPropertyValue(d).trim()};`)}let y;function B(s){V[s?"unshift":"push"](()=>{i=s,t(0,i)})}function R(s){V[s?"unshift":"push"](()=>{f=s,t(1,f)})}function U(s){V[s?"unshift":"push"](()=>{y=s,t(6,y)})}return o.$$set=s=>{t(23,e=q(q({},e),j(s))),"$$scope"in s&&t(15,l=s.$$scope)},e=j(e),[i,f,c,g,p,E,y,a,_,r,m,n,B,R,U,l]}class qe extends pe{constructor(e){super(),he(this,e,Ve,Te,ie,{})}}function oe(o,e,t){const n=o.slice();return n[20]=e[t],n[21]=e,n[22]=t,n}function se(o){let e,t,n,l,a=o[20].html+"",i,f=o[22],c,g;function p(){return o[12](o[22])}const v=()=>o[13](e,f),_=()=>o[13](null,f);return{c(){e=P("li"),t=P("button"),n=P("span"),l=new fe(!1),i=F(),this.h()},l(r){e=S(r,"LI",{});var u=A(e);t=S(u,"BUTTON",{});var m=A(t);n=S(m,"SPAN",{});var h=A(n);l=ce(h,!1),h.forEach(b),m.forEach(b),i=G(u),u.forEach(b),this.h()},h(){l.a=null},m(r,u){C(r,e,u),D(e,t),D(t,n),l.m(a,n),D(e,i),v(),c||(g=T(t,"click",p),c=!0)},p(r,u){o=r,u&16&&a!==(a=o[20].html+"")&&l.p(a),f!==o[22]&&(_(),f=o[22],v())},d(r){r&&b(e),_(),c=!1,g()}}}function He(o){let e,t=te(o[4]),n=[];for(let l=0;l<t.length;l+=1)n[l]=se(oe(o,t,l));return{c(){for(let l=0;l<n.length;l+=1)n[l].c();e=W()},l(l){for(let a=0;a<n.length;a+=1)n[a].l(l);e=W()},m(l,a){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(l,a);C(l,e,a)},p(l,a){if(a&88){t=te(l[4]);let i;for(i=0;i<t.length;i+=1){const f=oe(l,t,i);n[i]?n[i].p(f,a):(n[i]=se(f),n[i].c(),n[i].m(e.parentNode,e))}for(;i<n.length;i+=1)n[i].d(1);n.length=t.length}},d(l){l&&b(e),ke(n,l)}}}function Le(o){let e;return{c(){e=re("-")},l(t){e=ue(t,"-")},m(t,n){C(t,e,n)},p:Me,d(t){t&&b(e)}}}function Ne(o){let e,t=o[5].html+"",n;return{c(){e=new fe(!1),n=W(),this.h()},l(l){e=ce(l,!1),n=W(),this.h()},h(){e.a=n},m(l,a){e.m(t,l,a),C(l,n,a)},p(l,a){a&32&&t!==(t=l[5].html+"")&&e.p(t)},d(l){l&&(b(n),e.d())}}}function We(o){let e,t;function n(i,f){return i[5]?Ne:Le}let l=n(o),a=l(o);return{c(){e=P("span"),t=P("span"),a.c(),this.h()},l(i){e=S(i,"SPAN",{class:!0,slot:!0});var f=A(e);t=S(f,"SPAN",{class:!0});var c=A(t);a.l(c),c.forEach(b),f.forEach(b),this.h()},h(){k(t,"class","select-dropdown-label svelte-15o5eq4"),k(e,"class","select-dropdown svelte-15o5eq4"),k(e,"slot","label")},m(i,f){C(i,e,f),D(e,t),a.m(t,null)},p(i,f){l===(l=n(i))&&a?a.p(i,f):(a.d(1),a=l(i),a&&(a.c(),a.m(t,null)))},d(i){i&&b(e),a.d()}}}function Be(o){let e,t,n,l,a=`${o[2]}px`,i,f,c;const g=o[8].default,p=z(g,o,o[14],null);let v=[o[7]],_={};for(let r=0;r<v.length;r+=1)_=q(_,v[r]);return l=new qe({props:{$$slots:{label:[We],default:[He]},$$scope:{ctx:o}}}),{c(){e=P("select"),p&&p.c(),t=F(),n=P("div"),de(l.$$.fragment),this.h()},l(r){e=S(r,"SELECT",{});var u=A(e);p&&p.l(u),u.forEach(b),t=G(r),n=S(r,"DIV",{class:!0});var m=A(n);_e(l.$$.fragment,m),m.forEach(b),this.h()},h(){Y(e,_),o[0]===void 0&&we(()=>o[10].call(e)),Z(e,"svelte-15o5eq4",!0),k(n,"class","dropdown-wrapper svelte-15o5eq4"),I(n,"--target-width",a)},m(r,u){C(r,e,u),p&&p.m(e,null),"value"in _&&(_.multiple?x:N)(e,_.value),e.autofocus&&e.focus(),N(e,o[0],!0),o[11](e),C(r,t,u),C(r,n,u),me(l,n,null),i=!0,f||(c=[T(e,"change",o[10]),T(e,"change",o[9])],f=!0)},p(r,[u]){p&&p.p&&(!i||u&16384)&&K(p,g,r,r[14],i?J(g,r[14],u,null):Q(r[14]),null),Y(e,_=Ae(v,[u&128&&r[7]])),u&128&&"value"in _&&(_.multiple?x:N)(e,_.value),u&1&&N(e,r[0]),Z(e,"svelte-15o5eq4",!0);const m={};u&16440&&(m.$$scope={dirty:u,ctx:r}),l.$set(m),u&4&&a!==(a=`${r[2]}px`)&&I(n,"--target-width",a)},i(r){i||(H(p,r),H(l.$$.fragment,r),i=!0)},o(r){L(p,r),L(l.$$.fragment,r),i=!1},d(r){r&&(b(e),b(t),b(n)),p&&p.d(r),o[11](null),ge(l),f=!1,ae(c)}}}function Re(o,e,t){const n=["value"];let l=$(e,n),{$$slots:a={},$$scope:i}=e,{value:f}=e,c,g,p,v=0,_=[];ve(async()=>(await ee(),m(),g=new MutationObserver(s=>{s.forEach(d=>{d.type==="childList"&&m()})}),g.observe(c,{childList:!0}),p=new ResizeObserver(()=>h()),_.forEach(s=>p.observe(s)),()=>{g.disconnect(),p.disconnect()}));let r=[],u=null;function m(){if(!c)return;t(4,r=[]);let s=c.querySelectorAll("option");for(let d of s)r.push({value:d.value,html:d.innerHTML});t(5,u=r[c.selectedIndex]),h()}function h(){let s=0;for(let d of _)d.offsetWidth>s&&(s=d.offsetWidth);t(2,v=s||150)}function w(s){t(1,c.selectedIndex=s,c),c.dispatchEvent(new Event("change")),t(5,u=r[s])}async function E(s){await ee(),c&&t(5,u=r[c.selectedIndex])}function O(s){ye.call(this,o,s)}function y(){f=Ee(this),t(0,f)}function B(s){V[s?"unshift":"push"](()=>{c=s,t(1,c)})}const R=s=>w(s);function U(s,d){V[s?"unshift":"push"](()=>{_[d]=s,t(3,_)})}return o.$$set=s=>{e=q(q({},e),j(s)),t(7,l=$(e,n)),"value"in s&&t(0,f=s.value),"$$scope"in s&&t(14,i=s.$$scope)},o.$$.update=()=>{o.$$.dirty&1&&E()},[f,c,v,_,r,u,w,l,a,O,y,B,R,U,i]}class Ge extends pe{constructor(e){super(),he(this,e,Re,Be,ie,{value:0})}}export{qe as D,Ge as S};

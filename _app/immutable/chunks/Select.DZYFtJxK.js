import{s as te,y as W,e as C,a as q,b as P,d as S,g as b,c as R,k as y,f as I,i as D,l as L,v as V,z as U,A as F,B as z,C as ne,E as Q,F as G,o as O,t as le,j as oe,L as _e,M as J,D as me,N as X,m as j,w as ge,x as be,O as we,P as se,Q as ie,n as ve}from"./scheduler.ETFD5qIv.js";import{S as ae,i as re,c as ce,a as ue,m as fe,t as B,b as H,d as pe}from"./index.BkTCMpE2.js";import{i as ke,c as ye,e as Y}from"./RadioButton.svelte_svelte_type_style_lang.BktaTx8X.js";import{M as Ee}from"./MenuList.FjMFss70.js";const Me=o=>({}),Z=o=>({});function Ae(o){let e;return{c(){e=le("Menu")},l(t){e=oe(t,"Menu")},m(t,l){D(t,e,l)},d(t){t&&b(e)}}}function Ce(o){let e;const t=o[11].default,l=W(t,o,o[15],null);return{c(){l&&l.c()},l(n){l&&l.l(n)},m(n,i){l&&l.m(n,i),e=!0},p(n,i){l&&l.p&&(!e||i&32768)&&U(l,t,n,n[15],e?z(t,n[15],i,null):F(n[15]),null)},i(n){e||(B(l,n),e=!0)},o(n){H(l,n),e=!1},d(n){l&&l.d(n)}}}function Pe(o){let e,t,l,n,i,s,c=`${o[2]}px`,h=`${o[3]}px`,m=`${o[4]}px`,f,r,_;const g=o[11].label,d=W(g,o,o[15],Z),v=d||Ae();return s=new Ee({props:{$$slots:{default:[Ce]},$$scope:{ctx:o}}}),{c(){e=C("nav"),t=C("button"),v&&v.c(),l=q(),n=C("div"),i=C("div"),ce(s.$$.fragment),this.h()},l(p){e=P(p,"NAV",{class:!0});var w=S(e);t=P(w,"BUTTON",{popovertarget:!0,class:!0});var M=S(t);v&&v.l(M),M.forEach(b),l=R(w),n=P(w,"DIV",{id:!0,class:!0,popover:!0});var T=S(n);i=P(T,"DIV",{class:!0,style:!0});var u=S(i);ue(s.$$.fragment,u),u.forEach(b),T.forEach(b),w.forEach(b),this.h()},h(){y(t,"popovertarget",o[7]),y(t,"class","svelte-1j7cw33"),y(i,"class","dropdown-content svelte-1j7cw33"),y(i,"style",o[5]),y(n,"id",o[7]),y(n,"class","dropdown-container svelte-1j7cw33"),y(n,"popover",""),I(n,"top",c),I(n,"left",h),I(n,"max-height",m),y(e,"class","dropdown-menu svelte-1j7cw33")},m(p,w){D(p,e,w),L(e,t),v&&v.m(t,null),o[12](t),L(e,l),L(e,n),L(n,i),fe(s,i,null),o[13](i),o[14](n),f=!0,r||(_=[V(t,"click",o[8]),V(i,"click",o[9]),V(e,"keydown",o[10])],r=!0)},p(p,[w]){d&&d.p&&(!f||w&32768)&&U(d,g,p,p[15],f?z(g,p[15],w,Me):F(p[15]),Z);const M={};w&32768&&(M.$$scope={dirty:w,ctx:p}),s.$set(M),(!f||w&32)&&y(i,"style",p[5]),w&4&&c!==(c=`${p[2]}px`)&&I(n,"top",c),w&8&&h!==(h=`${p[3]}px`)&&I(n,"left",h),w&16&&m!==(m=`${p[4]}px`)&&I(n,"max-height",m)},i(p){f||(B(v,p),B(s.$$.fragment,p),f=!0)},o(p){H(v,p),H(s.$$.fragment,p),f=!1},d(p){p&&b(e),v&&v.d(p),o[12](null),pe(s),o[13](null),o[14](null),r=!1,ne(_)}}}var $=1;function Se(o,e,t){let{$$slots:l={},$$scope:n}=e;$++;let i="contain-dropdown-menu-"+$,s,c;ke(e,"menu",["bg","fg","padding","width","height"]);let h,m,f;function r(){let a=c.getBoundingClientRect(),k=s.getBoundingClientRect();t(2,h=k.bottom),t(3,m=k.left),m+a.width>window.innerWidth&&t(3,m=window.innerWidth-a.width),h+a.height>window.innerHeight&&t(2,h=Math.max(0,window.innerHeight-a.height)),t(4,f=window.innerHeight-h),console.log("Computed top",h,"left",m,"maxHeight",f)}function _(a){console.log("Triggered...");let k=u.matches(":popover-open");console.log("Popover is currently open?",k),k||(console.log("Opening popover"),T(),r())}function g(a){console.log("Dismissing popover"),u.hidePopover()}let d="";function v(a){a.key=="Backspace"&&d?d=d.slice(0,-1):a.key.length==1?(d||a.key!=" ")&&(d+=a.key,p(d)):(d="",a.key==="Escape"?u.hidePopover():(a.key==="ArrowDown"||a.key==="ArrowUp")&&(a.preventDefault(),w(a.key),d=""))}function p(a){console.log("Maybe focus",a);let k=c.querySelectorAll("a,button,[tabindex]");for(let A of k)if(A.textContent&&A.textContent.toLowerCase().startsWith(a.toLowerCase())&&(console.log("Found",A),A.focus)){A.focus();return}}function w(a){var K;if(!u.matches(":popover-open")){s.click();return}const k=Array.from(c.querySelectorAll("button, a, [tabindex]:not([tabindex='-1'])"));let A=k.findIndex(de=>de===document.activeElement);a==="ArrowDown"?A=(A+1)%k.length:a==="ArrowUp"&&(A=(A-1+k.length)%k.length),(K=k[A])==null||K.focus()}let M="";function T(){t(5,M="");let a=getComputedStyle(s);for(let k of ye)a.getPropertyValue(k).trim()&&t(5,M+=`${k}: ${a.getPropertyValue(k).trim()};`)}let u;function E(a){O[a?"unshift":"push"](()=>{s=a,t(0,s)})}function N(a){O[a?"unshift":"push"](()=>{c=a,t(1,c)})}function he(a){O[a?"unshift":"push"](()=>{u=a,t(6,u)})}return o.$$set=a=>{t(23,e=Q(Q({},e),G(a))),"$$scope"in a&&t(15,n=a.$$scope)},e=G(e),[s,c,h,m,f,M,u,i,_,g,v,l,E,N,he,n]}class De extends ae{constructor(e){super(),re(this,e,Se,Pe,te,{})}}function x(o,e,t){const l=o.slice();return l[17]=e[t],l[18]=e,l[19]=t,l}function ee(o){let e,t,l,n,i=o[17].html+"",s,c=o[19],h,m;function f(){return o[11](o[19])}const r=()=>o[12](e,c),_=()=>o[12](null,c);return{c(){e=C("li"),t=C("button"),l=C("span"),n=new se(!1),s=q(),this.h()},l(g){e=P(g,"LI",{});var d=S(e);t=P(d,"BUTTON",{});var v=S(t);l=P(v,"SPAN",{});var p=S(l);n=ie(p,!1),p.forEach(b),v.forEach(b),s=R(d),d.forEach(b),this.h()},h(){n.a=null},m(g,d){D(g,e,d),L(e,t),L(t,l),n.m(i,l),L(e,s),r(),h||(m=V(t,"click",f),h=!0)},p(g,d){o=g,d&4&&i!==(i=o[17].html+"")&&n.p(i),c!==o[19]&&(_(),c=o[19],r())},d(g){g&&b(e),_(),h=!1,m()}}}function Ie(o){let e,t=Y(o[2]),l=[];for(let n=0;n<t.length;n+=1)l[n]=ee(x(o,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=j()},l(n){for(let i=0;i<l.length;i+=1)l[i].l(n);e=j()},m(n,i){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(n,i);D(n,e,i)},p(n,i){if(i&100){t=Y(n[2]);let s;for(s=0;s<t.length;s+=1){const c=x(n,t,s);l[s]?l[s].p(c,i):(l[s]=ee(c),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(n){n&&b(e),ge(l,n)}}}function Le(o){let e;return{c(){e=le("-")},l(t){e=oe(t,"-")},m(t,l){D(t,e,l)},p:ve,d(t){t&&b(e)}}}function Te(o){let e,t=o[3].html+"",l;return{c(){e=new se(!1),l=j(),this.h()},l(n){e=ie(n,!1),l=j(),this.h()},h(){e.a=l},m(n,i){e.m(t,n,i),D(n,l,i)},p(n,i){i&8&&t!==(t=n[3].html+"")&&e.p(t)},d(n){n&&(b(l),e.d())}}}function Ve(o){let e,t;function l(s,c){return s[3]?Te:Le}let n=l(o),i=n(o);return{c(){e=C("span"),t=C("span"),i.c(),this.h()},l(s){e=P(s,"SPAN",{class:!0,slot:!0});var c=S(e);t=P(c,"SPAN",{class:!0});var h=S(t);i.l(h),h.forEach(b),c.forEach(b),this.h()},h(){y(t,"class","select-dropdown-label svelte-1ccds9h"),y(e,"class","select-dropdown svelte-1ccds9h"),y(e,"slot","label")},m(s,c){D(s,e,c),L(e,t),i.m(t,null)},p(s,c){n===(n=l(s))&&i?i.p(s,c):(i.d(1),i=n(s),i&&(i.c(),i.m(t,null)))},d(s){s&&b(e),i.d()}}}function Oe(o){let e,t,l,n,i=`${o[4]}px`,s,c,h;const m=o[7].default,f=W(m,o,o[13],null);return n=new De({props:{$$slots:{label:[Ve],default:[Ie]},$$scope:{ctx:o}}}),{c(){e=C("select"),f&&f.c(),t=q(),l=C("div"),ce(n.$$.fragment),this.h()},l(r){e=P(r,"SELECT",{class:!0});var _=S(e);f&&f.l(_),_.forEach(b),t=R(r),l=P(r,"DIV",{class:!0});var g=S(l);ue(n.$$.fragment,g),g.forEach(b),this.h()},h(){y(e,"class","svelte-1ccds9h"),o[0]===void 0&&_e(()=>o[9].call(e)),y(l,"class","dropdown-wrapper svelte-1ccds9h"),I(l,"--target-width",i)},m(r,_){D(r,e,_),f&&f.m(e,null),J(e,o[0],!0),o[10](e),D(r,t,_),D(r,l,_),fe(n,l,null),s=!0,c||(h=[V(e,"change",o[9]),V(e,"change",o[8])],c=!0)},p(r,[_]){f&&f.p&&(!s||_&8192)&&U(f,m,r,r[13],s?z(m,r[13],_,null):F(r[13]),null),_&1&&J(e,r[0]);const g={};_&8236&&(g.$$scope={dirty:_,ctx:r}),n.$set(g),_&16&&i!==(i=`${r[4]}px`)&&I(l,"--target-width",i)},i(r){s||(B(f,r),B(n.$$.fragment,r),s=!0)},o(r){H(f,r),H(n.$$.fragment,r),s=!1},d(r){r&&(b(e),b(t),b(l)),f&&f.d(r),o[10](null),pe(n),c=!1,ne(h)}}}function Be(o,e,t){let{$$slots:l={},$$scope:n}=e,{value:i}=e,s,c;me(async()=>(await X(),f(),c=new MutationObserver(u=>{u.forEach(E=>{E.type==="childList"&&f()})}),c.observe(s,{childList:!0}),()=>c.disconnect()));let h=[],m=null;function f(){if(!s)return;t(2,h=[]);let u=s.querySelectorAll("option");for(let E of u)h.push({value:E.value,html:E.innerHTML});t(3,m=h[s.selectedIndex]),setTimeout(()=>{let E=0;for(let N of d)N.offsetWidth>E&&(E=N.offsetWidth);t(4,g=E)},10)}function r(u){console.log("Button to set",u),t(1,s.selectedIndex=u,s),s.dispatchEvent(new Event("change")),t(3,m=h[u])}async function _(u){await X(),s&&t(3,m=h[s.selectedIndex])}let g=10,d=[];function v(u){be.call(this,o,u)}function p(){i=we(this),t(0,i)}function w(u){O[u?"unshift":"push"](()=>{s=u,t(1,s)})}const M=u=>r(u);function T(u,E){O[u?"unshift":"push"](()=>{d[E]=u,t(5,d)})}return o.$$set=u=>{"value"in u&&t(0,i=u.value),"$$scope"in u&&t(13,n=u.$$scope)},o.$$.update=()=>{o.$$.dirty&1&&_()},[i,s,h,m,g,d,r,l,v,p,w,M,T,n]}class qe extends ae{constructor(e){super(),re(this,e,Be,Oe,te,{value:0})}}export{De as D,qe as S};
